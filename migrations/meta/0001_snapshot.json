{
  "id": "aab02308-658e-4e01-aaab-2c7533e7d217",
  "prevId": "42243556-607b-419f-9874-00b1bdebacb7",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "public.agent_executions": {
      "name": "agent_executions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "agent_type": {
          "name": "agent_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "device_id": {
          "name": "device_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "psur_item_id": {
          "name": "psur_item_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "jurisdictions": {
          "name": "jurisdictions",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false,
          "default": "ARRAY[]::text[]"
        },
        "pms_plan_number": {
          "name": "pms_plan_number",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "previous_psur_number": {
          "name": "previous_psur_number",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "part_numbers": {
          "name": "part_numbers",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "template_id": {
          "name": "template_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "start_period": {
          "name": "start_period",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "end_period": {
          "name": "end_period",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "steps": {
          "name": "steps",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "current_step": {
          "name": "current_step",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "total_steps": {
          "name": "total_steps",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "result": {
          "name": "result",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "error": {
          "name": "error",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "tokens_used": {
          "name": "tokens_used",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "cost_usd": {
          "name": "cost_usd",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "agent_executions_device_id_devices_id_fk": {
          "name": "agent_executions_device_id_devices_id_fk",
          "tableFrom": "agent_executions",
          "tableTo": "devices",
          "columnsFrom": [
            "device_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "agent_executions_psur_item_id_psur_items_id_fk": {
          "name": "agent_executions_psur_item_id_psur_items_id_fk",
          "tableFrom": "agent_executions",
          "tableTo": "psur_items",
          "columnsFrom": [
            "psur_item_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.audit_bundles": {
      "name": "audit_bundles",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "psur_case_id": {
          "name": "psur_case_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "bundle_reference": {
          "name": "bundle_reference",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "trace_jsonl_path": {
          "name": "trace_jsonl_path",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "coverage_report_path": {
          "name": "coverage_report_path",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "evidence_register_path": {
          "name": "evidence_register_path",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "qualification_report_path": {
          "name": "qualification_report_path",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "rendered_document_path": {
          "name": "rendered_document_path",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "exported_at": {
          "name": "exported_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "audit_bundles_psur_case_id_psur_cases_id_fk": {
          "name": "audit_bundles_psur_case_id_psur_cases_id_fk",
          "tableFrom": "audit_bundles",
          "tableTo": "psur_cases",
          "columnsFrom": [
            "psur_case_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.audit_events": {
      "name": "audit_events",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "entity_type": {
          "name": "entity_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "entity_id": {
          "name": "entity_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "action": {
          "name": "action",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "actor": {
          "name": "actor",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "previous_data": {
          "name": "previous_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "new_data": {
          "name": "new_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.column_mapping_profiles": {
      "name": "column_mapping_profiles",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "evidence_type": {
          "name": "evidence_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "source_system_hint": {
          "name": "source_system_hint",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "column_mappings": {
          "name": "column_mappings",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        },
        "usage_count": {
          "name": "usage_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.companies": {
      "name": "companies",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "jurisdictions": {
          "name": "jurisdictions",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false,
          "default": "ARRAY[]::text[]"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.complaint_data": {
      "name": "complaint_data",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "data_source_id": {
          "name": "data_source_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "complaint_id": {
          "name": "complaint_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "device_code": {
          "name": "device_code",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "customer_effect": {
          "name": "customer_effect",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "severity": {
          "name": "severity",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "received_date": {
          "name": "received_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "closed_date": {
          "name": "closed_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "complaint_data_data_source_id_data_sources_id_fk": {
          "name": "complaint_data_data_source_id_data_sources_id_fk",
          "tableFrom": "complaint_data",
          "tableTo": "data_sources",
          "columnsFrom": [
            "data_source_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.coverage_reports": {
      "name": "coverage_reports",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "psur_case_id": {
          "name": "psur_case_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "template_id": {
          "name": "template_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "total_obligations": {
          "name": "total_obligations",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "satisfied_obligations": {
          "name": "satisfied_obligations",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "missing_obligations": {
          "name": "missing_obligations",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "total_slots": {
          "name": "total_slots",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "filled_slots": {
          "name": "filled_slots",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "empty_slots": {
          "name": "empty_slots",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "justified_absences": {
          "name": "justified_absences",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "coverage_percent": {
          "name": "coverage_percent",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "passed": {
          "name": "passed",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "coverage_reports_psur_case_id_psur_cases_id_fk": {
          "name": "coverage_reports_psur_case_id_psur_cases_id_fk",
          "tableFrom": "coverage_reports",
          "tableTo": "psur_cases",
          "columnsFrom": [
            "psur_case_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.coverage_slot_queues": {
      "name": "coverage_slot_queues",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "psur_case_id": {
          "name": "psur_case_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "psur_reference": {
          "name": "psur_reference",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "profile_id": {
          "name": "profile_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "mandatory_obligations_total": {
          "name": "mandatory_obligations_total",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "mandatory_obligations_satisfied": {
          "name": "mandatory_obligations_satisfied",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "mandatory_obligations_remaining": {
          "name": "mandatory_obligations_remaining",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "required_slots_total": {
          "name": "required_slots_total",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "required_slots_filled": {
          "name": "required_slots_filled",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "required_slots_remaining": {
          "name": "required_slots_remaining",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "queue": {
          "name": "queue",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "generated_at": {
          "name": "generated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "coverage_slot_queues_psur_case_id_psur_cases_id_fk": {
          "name": "coverage_slot_queues_psur_case_id_psur_cases_id_fk",
          "tableFrom": "coverage_slot_queues",
          "tableTo": "psur_cases",
          "columnsFrom": [
            "psur_case_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.data_sources": {
      "name": "data_sources",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "company_id": {
          "name": "company_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "file_path": {
          "name": "file_path",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "column_mapping": {
          "name": "column_mapping",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "record_count": {
          "name": "record_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "last_updated": {
          "name": "last_updated",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "data_sources_company_id_companies_id_fk": {
          "name": "data_sources_company_id_companies_id_fk",
          "tableFrom": "data_sources",
          "tableTo": "companies",
          "columnsFrom": [
            "company_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.decision_trace_entries": {
      "name": "decision_trace_entries",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "psur_case_id": {
          "name": "psur_case_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "trace_id": {
          "name": "trace_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "sequence_num": {
          "name": "sequence_num",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "event_type": {
          "name": "event_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "event_timestamp": {
          "name": "event_timestamp",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        },
        "actor": {
          "name": "actor",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "entity_type": {
          "name": "entity_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "entity_id": {
          "name": "entity_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "decision": {
          "name": "decision",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "human_summary": {
          "name": "human_summary",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "regulatory_context": {
          "name": "regulatory_context",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "evidence_justification": {
          "name": "evidence_justification",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "compliance_assertion": {
          "name": "compliance_assertion",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "input_data": {
          "name": "input_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "output_data": {
          "name": "output_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "reasons": {
          "name": "reasons",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "parent_trace_entry_id": {
          "name": "parent_trace_entry_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "related_entity_ids": {
          "name": "related_entity_ids",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "content_hash": {
          "name": "content_hash",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "previous_hash": {
          "name": "previous_hash",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "workflow_step": {
          "name": "workflow_step",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "template_id": {
          "name": "template_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "jurisdictions": {
          "name": "jurisdictions",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {
        "decision_trace_trace_id_idx": {
          "name": "decision_trace_trace_id_idx",
          "columns": [
            {
              "expression": "trace_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "decision_trace_psur_case_id_idx": {
          "name": "decision_trace_psur_case_id_idx",
          "columns": [
            {
              "expression": "psur_case_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "decision_trace_event_type_idx": {
          "name": "decision_trace_event_type_idx",
          "columns": [
            {
              "expression": "event_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "decision_trace_entity_id_idx": {
          "name": "decision_trace_entity_id_idx",
          "columns": [
            {
              "expression": "entity_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "decision_trace_timestamp_idx": {
          "name": "decision_trace_timestamp_idx",
          "columns": [
            {
              "expression": "event_timestamp",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "decision_trace_human_summary_idx": {
          "name": "decision_trace_human_summary_idx",
          "columns": [
            {
              "expression": "human_summary",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "decision_trace_entries_psur_case_id_psur_cases_id_fk": {
          "name": "decision_trace_entries_psur_case_id_psur_cases_id_fk",
          "tableFrom": "decision_trace_entries",
          "tableTo": "psur_cases",
          "columnsFrom": [
            "psur_case_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.decision_trace_summaries": {
      "name": "decision_trace_summaries",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "psur_case_id": {
          "name": "psur_case_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "trace_id": {
          "name": "trace_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "total_events": {
          "name": "total_events",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "accepted_slots": {
          "name": "accepted_slots",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "rejected_slots": {
          "name": "rejected_slots",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "trace_gaps": {
          "name": "trace_gaps",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "evidence_atoms": {
          "name": "evidence_atoms",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "negative_evidence": {
          "name": "negative_evidence",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "obligations_satisfied": {
          "name": "obligations_satisfied",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "obligations_unsatisfied": {
          "name": "obligations_unsatisfied",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "workflow_status": {
          "name": "workflow_status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'NOT_STARTED'"
        },
        "completed_steps": {
          "name": "completed_steps",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "failed_step": {
          "name": "failed_step",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "failure_reason": {
          "name": "failure_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "first_entry_hash": {
          "name": "first_entry_hash",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "last_entry_hash": {
          "name": "last_entry_hash",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "chain_valid": {
          "name": "chain_valid",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "last_updated_at": {
          "name": "last_updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "decision_trace_summaries_psur_case_id_psur_cases_id_fk": {
          "name": "decision_trace_summaries_psur_case_id_psur_cases_id_fk",
          "tableFrom": "decision_trace_summaries",
          "tableTo": "psur_cases",
          "columnsFrom": [
            "psur_case_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "decision_trace_summaries_psur_case_id_unique": {
          "name": "decision_trace_summaries_psur_case_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "psur_case_id"
          ]
        },
        "decision_trace_summaries_trace_id_unique": {
          "name": "decision_trace_summaries_trace_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "trace_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.devices": {
      "name": "devices",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "company_id": {
          "name": "company_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "device_name": {
          "name": "device_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "device_code": {
          "name": "device_code",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "risk_class": {
          "name": "risk_class",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "jurisdictions": {
          "name": "jurisdictions",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false,
          "default": "ARRAY[]::text[]"
        },
        "basic_udf": {
          "name": "basic_udf",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "gmdn_code": {
          "name": "gmdn_code",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "imdrf_classification": {
          "name": "imdrf_classification",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "device_group": {
          "name": "device_group",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "devices_company_id_companies_id_fk": {
          "name": "devices_company_id_companies_id_fk",
          "tableFrom": "devices",
          "tableTo": "companies",
          "columnsFrom": [
            "company_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.evidence_atoms": {
      "name": "evidence_atoms",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "atom_id": {
          "name": "atom_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "psur_case_id": {
          "name": "psur_case_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "upload_id": {
          "name": "upload_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "evidence_type": {
          "name": "evidence_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "source_system": {
          "name": "source_system",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "extract_date": {
          "name": "extract_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "query_filters": {
          "name": "query_filters",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "content_hash": {
          "name": "content_hash",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "record_count": {
          "name": "record_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "period_start": {
          "name": "period_start",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "period_end": {
          "name": "period_end",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "device_scope_id": {
          "name": "device_scope_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "device_ref": {
          "name": "device_ref",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "data": {
          "name": "data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "normalized_data": {
          "name": "normalized_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "provenance": {
          "name": "provenance",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "validation_errors": {
          "name": "validation_errors",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'valid'"
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "superseded_by": {
          "name": "superseded_by",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {
        "evidence_atoms_case_idx": {
          "name": "evidence_atoms_case_idx",
          "columns": [
            {
              "expression": "psur_case_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "evidence_atoms_type_case_idx": {
          "name": "evidence_atoms_type_case_idx",
          "columns": [
            {
              "expression": "evidence_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "psur_case_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "evidence_atoms_psur_case_id_psur_cases_id_fk": {
          "name": "evidence_atoms_psur_case_id_psur_cases_id_fk",
          "tableFrom": "evidence_atoms",
          "tableTo": "psur_cases",
          "columnsFrom": [
            "psur_case_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "evidence_atoms_upload_id_evidence_uploads_id_fk": {
          "name": "evidence_atoms_upload_id_evidence_uploads_id_fk",
          "tableFrom": "evidence_atoms",
          "tableTo": "evidence_uploads",
          "columnsFrom": [
            "upload_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "evidence_atoms_device_scope_id_devices_id_fk": {
          "name": "evidence_atoms_device_scope_id_devices_id_fk",
          "tableFrom": "evidence_atoms",
          "tableTo": "devices",
          "columnsFrom": [
            "device_scope_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.evidence_uploads": {
      "name": "evidence_uploads",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "filename": {
          "name": "filename",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "original_filename": {
          "name": "original_filename",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "mime_type": {
          "name": "mime_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "file_size": {
          "name": "file_size",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "sha256_hash": {
          "name": "sha256_hash",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "evidence_type": {
          "name": "evidence_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "device_scope_id": {
          "name": "device_scope_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "psur_case_id": {
          "name": "psur_case_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "uploaded_by": {
          "name": "uploaded_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'system'"
        },
        "source_system": {
          "name": "source_system",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "extraction_notes": {
          "name": "extraction_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "period_start": {
          "name": "period_start",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "period_end": {
          "name": "period_end",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "processing_errors": {
          "name": "processing_errors",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "atoms_created": {
          "name": "atoms_created",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "records_parsed": {
          "name": "records_parsed",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "records_rejected": {
          "name": "records_rejected",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "storage_path": {
          "name": "storage_path",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        },
        "processed_at": {
          "name": "processed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "evidence_uploads_case_idx": {
          "name": "evidence_uploads_case_idx",
          "columns": [
            {
              "expression": "psur_case_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "evidence_uploads_device_scope_id_devices_id_fk": {
          "name": "evidence_uploads_device_scope_id_devices_id_fk",
          "tableFrom": "evidence_uploads",
          "tableTo": "devices",
          "columnsFrom": [
            "device_scope_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "evidence_uploads_psur_case_id_psur_cases_id_fk": {
          "name": "evidence_uploads_psur_case_id_psur_cases_id_fk",
          "tableFrom": "evidence_uploads",
          "tableTo": "psur_cases",
          "columnsFrom": [
            "psur_case_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.generated_documents": {
      "name": "generated_documents",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "agent_execution_id": {
          "name": "agent_execution_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "psur_item_id": {
          "name": "psur_item_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "document_type": {
          "name": "document_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "file_path": {
          "name": "file_path",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "file_size": {
          "name": "file_size",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "sections": {
          "name": "sections",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "review_status": {
          "name": "review_status",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'pending'"
        },
        "review_notes": {
          "name": "review_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "generated_at": {
          "name": "generated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "generated_documents_agent_execution_id_agent_executions_id_fk": {
          "name": "generated_documents_agent_execution_id_agent_executions_id_fk",
          "tableFrom": "generated_documents",
          "tableTo": "agent_executions",
          "columnsFrom": [
            "agent_execution_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "generated_documents_psur_item_id_psur_items_id_fk": {
          "name": "generated_documents_psur_item_id_psur_items_id_fk",
          "tableFrom": "generated_documents",
          "tableTo": "psur_items",
          "columnsFrom": [
            "psur_item_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.grkb_entries": {
      "name": "grkb_entries",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "regulation": {
          "name": "regulation",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "category": {
          "name": "category",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "device_class": {
          "name": "device_class",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "requirement": {
          "name": "requirement",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "references": {
          "name": "references",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.grkb_obligations": {
      "name": "grkb_obligations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "obligation_id": {
          "name": "obligation_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "jurisdiction": {
          "name": "jurisdiction",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "artifact_type": {
          "name": "artifact_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "template_id": {
          "name": "template_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "kind": {
          "name": "kind",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'obligation'"
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "text": {
          "name": "text",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "source_citation": {
          "name": "source_citation",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "version": {
          "name": "version",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'1.0.0'"
        },
        "effective_from": {
          "name": "effective_from",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "mandatory": {
          "name": "mandatory",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "required_evidence_types": {
          "name": "required_evidence_types",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false,
          "default": "ARRAY[]::text[]"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.psur_cases": {
      "name": "psur_cases",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "psur_reference": {
          "name": "psur_reference",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "template_id": {
          "name": "template_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "jurisdictions": {
          "name": "jurisdictions",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false,
          "default": "ARRAY[]::text[]"
        },
        "start_period": {
          "name": "start_period",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "end_period": {
          "name": "end_period",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "device_ids": {
          "name": "device_ids",
          "type": "integer[]",
          "primaryKey": false,
          "notNull": false
        },
        "leading_device_id": {
          "name": "leading_device_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "grouping_rationale": {
          "name": "grouping_rationale",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "qualification_status": {
          "name": "qualification_status",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'pending'"
        },
        "qualification_result": {
          "name": "qualification_result",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "device_info": {
          "name": "device_info",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "psur_cases_leading_device_id_devices_id_fk": {
          "name": "psur_cases_leading_device_id_devices_id_fk",
          "tableFrom": "psur_cases",
          "tableTo": "devices",
          "columnsFrom": [
            "leading_device_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.psur_compliance_checklist": {
      "name": "psur_compliance_checklist",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "psur_case_id": {
          "name": "psur_case_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "obligation_id": {
          "name": "obligation_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "satisfied_by_slots": {
          "name": "satisfied_by_slots",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false,
          "default": "ARRAY[]::text[]"
        },
        "evidence_atom_ids": {
          "name": "evidence_atom_ids",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false,
          "default": "ARRAY[]::text[]"
        },
        "evidence_count": {
          "name": "evidence_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "validation_passed": {
          "name": "validation_passed",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "validation_errors": {
          "name": "validation_errors",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false,
          "default": "ARRAY[]::text[]"
        },
        "validation_warnings": {
          "name": "validation_warnings",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false,
          "default": "ARRAY[]::text[]"
        },
        "waiver_justification": {
          "name": "waiver_justification",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "waiver_approved_by": {
          "name": "waiver_approved_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "waiver_approved_at": {
          "name": "waiver_approved_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "last_checked_at": {
          "name": "last_checked_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        },
        "checked_by": {
          "name": "checked_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'system'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {
        "psur_checklist_case_obligation_idx": {
          "name": "psur_checklist_case_obligation_idx",
          "columns": [
            {
              "expression": "psur_case_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "obligation_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "psur_checklist_status_idx": {
          "name": "psur_checklist_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "psur_compliance_checklist_psur_case_id_psur_cases_id_fk": {
          "name": "psur_compliance_checklist_psur_case_id_psur_cases_id_fk",
          "tableFrom": "psur_compliance_checklist",
          "tableTo": "psur_cases",
          "columnsFrom": [
            "psur_case_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.psur_evidence_types": {
      "name": "psur_evidence_types",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "evidence_type_id": {
          "name": "evidence_type_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "display_name": {
          "name": "display_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "category": {
          "name": "category",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "required_fields": {
          "name": "required_fields",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false,
          "default": "ARRAY[]::text[]"
        },
        "optional_fields": {
          "name": "optional_fields",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false,
          "default": "ARRAY[]::text[]"
        },
        "field_definitions": {
          "name": "field_definitions",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "validation_rules": {
          "name": "validation_rules",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "expected_source_types": {
          "name": "expected_source_types",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false,
          "default": "ARRAY['excel', 'csv']::text[]"
        },
        "supports_classification": {
          "name": "supports_classification",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "classification_model": {
          "name": "classification_model",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "typical_psur_sections": {
          "name": "typical_psur_sections",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false,
          "default": "ARRAY[]::text[]"
        },
        "version": {
          "name": "version",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'1.0.0'"
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {
        "psur_evidence_types_id_idx": {
          "name": "psur_evidence_types_id_idx",
          "columns": [
            {
              "expression": "evidence_type_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "psur_evidence_types_category_idx": {
          "name": "psur_evidence_types_category_idx",
          "columns": [
            {
              "expression": "category",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "psur_evidence_types_evidence_type_id_unique": {
          "name": "psur_evidence_types_evidence_type_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "evidence_type_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.psur_items": {
      "name": "psur_items",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "device_id": {
          "name": "device_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "psur_number": {
          "name": "psur_number",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "jurisdiction": {
          "name": "jurisdiction",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "start_period": {
          "name": "start_period",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "end_period": {
          "name": "end_period",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "due_date": {
          "name": "due_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "frequency": {
          "name": "frequency",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'not_started'"
        },
        "writer": {
          "name": "writer",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "reviewed_by": {
          "name": "reviewed_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "document_path": {
          "name": "document_path",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "psur_items_device_id_devices_id_fk": {
          "name": "psur_items_device_id_devices_id_fk",
          "tableFrom": "psur_items",
          "tableTo": "devices",
          "columnsFrom": [
            "device_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.psur_obligation_dependencies": {
      "name": "psur_obligation_dependencies",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "from_obligation_id": {
          "name": "from_obligation_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "to_obligation_id": {
          "name": "to_obligation_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "relation_type": {
          "name": "relation_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "strength": {
          "name": "strength",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'STRONG'"
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "regulatory_basis": {
          "name": "regulatory_basis",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {
        "psur_obligation_deps_from_idx": {
          "name": "psur_obligation_deps_from_idx",
          "columns": [
            {
              "expression": "from_obligation_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "psur_obligation_deps_to_idx": {
          "name": "psur_obligation_deps_to_idx",
          "columns": [
            {
              "expression": "to_obligation_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "psur_obligation_deps_relation_idx": {
          "name": "psur_obligation_deps_relation_idx",
          "columns": [
            {
              "expression": "relation_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "psur_obligation_deps_unique": {
          "name": "psur_obligation_deps_unique",
          "columns": [
            {
              "expression": "from_obligation_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "to_obligation_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "relation_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.psur_sections": {
      "name": "psur_sections",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "section_id": {
          "name": "section_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "template_id": {
          "name": "template_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "parent_section_id": {
          "name": "parent_section_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "section_number": {
          "name": "section_number",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "section_path": {
          "name": "section_path",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "display_order": {
          "name": "display_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "section_type": {
          "name": "section_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "mandatory": {
          "name": "mandatory",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "minimum_word_count": {
          "name": "minimum_word_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "maximum_word_count": {
          "name": "maximum_word_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "required_evidence_types": {
          "name": "required_evidence_types",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false,
          "default": "ARRAY[]::text[]"
        },
        "minimum_evidence_atoms": {
          "name": "minimum_evidence_atoms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "render_as": {
          "name": "render_as",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "table_schema": {
          "name": "table_schema",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "regulatory_basis": {
          "name": "regulatory_basis",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {
        "psur_sections_section_id_idx": {
          "name": "psur_sections_section_id_idx",
          "columns": [
            {
              "expression": "section_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "psur_sections_template_id_idx": {
          "name": "psur_sections_template_id_idx",
          "columns": [
            {
              "expression": "template_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "psur_sections_parent_idx": {
          "name": "psur_sections_parent_idx",
          "columns": [
            {
              "expression": "parent_section_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.psur_slot_obligations": {
      "name": "psur_slot_obligations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "template_id": {
          "name": "template_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "slot_id": {
          "name": "slot_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "obligation_id": {
          "name": "obligation_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "mandatory": {
          "name": "mandatory",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "coverage_percentage": {
          "name": "coverage_percentage",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 100
        },
        "minimum_evidence_atoms": {
          "name": "minimum_evidence_atoms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 1
        },
        "allow_empty_with_justification": {
          "name": "allow_empty_with_justification",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "mapping_rationale": {
          "name": "mapping_rationale",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "regulatory_basis": {
          "name": "regulatory_basis",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "validation_rules": {
          "name": "validation_rules",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {
        "psur_slot_oblig_template_slot_idx": {
          "name": "psur_slot_oblig_template_slot_idx",
          "columns": [
            {
              "expression": "template_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "slot_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "psur_slot_oblig_obligation_idx": {
          "name": "psur_slot_oblig_obligation_idx",
          "columns": [
            {
              "expression": "obligation_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "psur_slot_oblig_unique": {
          "name": "psur_slot_oblig_unique",
          "columns": [
            {
              "expression": "template_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "slot_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "obligation_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.qualification_reports": {
      "name": "qualification_reports",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "psur_case_id": {
          "name": "psur_case_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "template_id": {
          "name": "template_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "jurisdictions": {
          "name": "jurisdictions",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false,
          "default": "ARRAY[]::text[]"
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "slot_count": {
          "name": "slot_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "mapping_count": {
          "name": "mapping_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "mandatory_obligations_total": {
          "name": "mandatory_obligations_total",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "mandatory_obligations_found": {
          "name": "mandatory_obligations_found",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "missing_obligations": {
          "name": "missing_obligations",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "constraints": {
          "name": "constraints",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "blocking_errors": {
          "name": "blocking_errors",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false,
          "default": "ARRAY[]::text[]"
        },
        "validated_at": {
          "name": "validated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "qualification_reports_psur_case_id_psur_cases_id_fk": {
          "name": "qualification_reports_psur_case_id_psur_cases_id_fk",
          "tableFrom": "qualification_reports",
          "tableTo": "psur_cases",
          "columnsFrom": [
            "psur_case_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.sales_data": {
      "name": "sales_data",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "data_source_id": {
          "name": "data_source_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "device_code": {
          "name": "device_code",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "country": {
          "name": "country",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "region": {
          "name": "region",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "quantity": {
          "name": "quantity",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "sale_date": {
          "name": "sale_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "sales_data_data_source_id_data_sources_id_fk": {
          "name": "sales_data_data_source_id_data_sources_id_fk",
          "tableFrom": "sales_data",
          "tableTo": "data_sources",
          "columnsFrom": [
            "data_source_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.slot_definitions": {
      "name": "slot_definitions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "slot_id": {
          "name": "slot_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "template_id": {
          "name": "template_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "jurisdictions": {
          "name": "jurisdictions",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "required_evidence_types": {
          "name": "required_evidence_types",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "hard_require_evidence": {
          "name": "hard_require_evidence",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "min_atoms": {
          "name": "min_atoms",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "sort_order": {
          "name": "sort_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {
        "slot_definitions_slot_id_uq": {
          "name": "slot_definitions_slot_id_uq",
          "columns": [
            {
              "expression": "slot_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "template_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.slot_obligation_links": {
      "name": "slot_obligation_links",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "template_id": {
          "name": "template_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "slot_id": {
          "name": "slot_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "obligation_id": {
          "name": "obligation_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "mandatory": {
          "name": "mandatory",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        }
      },
      "indexes": {
        "slot_obligation_links_uq": {
          "name": "slot_obligation_links_uq",
          "columns": [
            {
              "expression": "template_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "slot_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "obligation_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.slot_proposals": {
      "name": "slot_proposals",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "psur_case_id": {
          "name": "psur_case_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "slot_id": {
          "name": "slot_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "template_id": {
          "name": "template_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "evidence_atom_ids": {
          "name": "evidence_atom_ids",
          "type": "integer[]",
          "primaryKey": false,
          "notNull": true
        },
        "claimed_obligation_ids": {
          "name": "claimed_obligation_ids",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "method_statement": {
          "name": "method_statement",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "transformations": {
          "name": "transformations",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "obligation_ids": {
          "name": "obligation_ids",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "confidence_score": {
          "name": "confidence_score",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "adjudication_result": {
          "name": "adjudication_result",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "rejection_reasons": {
          "name": "rejection_reasons",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        },
        "adjudicated_at": {
          "name": "adjudicated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "slot_proposals_psur_case_id_psur_cases_id_fk": {
          "name": "slot_proposals_psur_case_id_psur_cases_id_fk",
          "tableFrom": "slot_proposals",
          "tableTo": "psur_cases",
          "columnsFrom": [
            "psur_case_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.users": {
      "name": "users",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "username": {
          "name": "username",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "password": {
          "name": "password",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "users_username_unique": {
          "name": "users_username_unique",
          "nullsNotDistinct": false,
          "columns": [
            "username"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.conversations": {
      "name": "conversations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.messages": {
      "name": "messages",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "conversation_id": {
          "name": "conversation_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "role": {
          "name": "role",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "messages_conversation_id_conversations_id_fk": {
          "name": "messages_conversation_id_conversations_id_fk",
          "tableFrom": "messages",
          "tableTo": "conversations",
          "columnsFrom": [
            "conversation_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    }
  },
  "enums": {},
  "schemas": {},
  "sequences": {},
  "roles": {},
  "policies": {},
  "views": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}