{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://regulatoryos.io/schemas/evidence_atom.sales_volume.schema.json",
  "title": "EvidenceAtom.SalesVolume",
  "description": "Evidence atom for sales volume data (PSUR Section C)",
  "allOf": [
    {
      "type": "object",
      "properties": {
        "atomType": {
          "const": "sales_volume"
        },
        "payload": {
          "type": "object",
          "properties": {
            "deviceCode": {
              "type": "string",
              "description": "Device code/SKU"
            },
            "quantity": {
              "type": "integer",
              "minimum": 0,
              "description": "Number of units sold/distributed"
            },
            "periodStart": {
              "type": "string",
              "format": "date",
              "description": "Start of sales period"
            },
            "periodEnd": {
              "type": "string",
              "format": "date",
              "description": "End of sales period"
            },
            "region": {
              "type": "string",
              "description": "Geographic region (e.g., 'EU', 'US', 'Global')"
            },
            "distributionChannel": {
              "type": "string",
              "description": "Distribution channel if applicable"
            },
            "cumulativeTotal": {
              "type": "integer",
              "minimum": 0,
              "description": "Cumulative units since market launch"
            },
            "notes": {
              "type": "string",
              "description": "Additional notes or context"
            }
          },
          "required": ["deviceCode", "quantity", "periodStart", "periodEnd"],
          "additionalProperties": true
        }
      },
      "required": ["atomType", "payload"]
    }
  ]
}
